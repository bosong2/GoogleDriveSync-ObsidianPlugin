# 프로젝트 개발 계획 (Phase 1 ~ 4)

이 문서는 플러그인의 안정성 강화 및 기능 확장을 위한 상세 개발 계획을 요약합니다.

## Phase 1: '플러그인 동기화' 옵션 기능 구현

-   **목표**: `.obsidian/plugins` 폴더의 동기화 여부를 사용자가 켜고 끌 수 있는 기능을 구현하고 테스트합니다.
-   **작업 상세**:
    1.  `main.ts`의 `PluginSettings`에 `syncPluginFolder: boolean` 항목을 추가하고, 기본값을 `false`로 설정합니다.
    2.  `main.ts`의 설정 UI에 "Plugin Sync"라는 이름의 체크박스(토글 스위치)를 추가하고, 위 설정과 연동합니다.
    3.  `helpers/drive.ts`의 `getConfigFilesToSync` 함수를 수정하여, "Plugin Sync"가 체크된 경우에만 플러그인 폴더를 동기화 목록에 포함시키도록 변경합니다.

## Phase 2: 동기화 오류 기록 및 실시간 피드백 구현

-   **목표**: 파일 동기화 실패 시, 프로세스 중단 없이 `error.json`에 내역을 기록하고, 진행 중인 알림창에 실패 상태를 실시간으로 표시합니다.
-   **작업 상세**:
    1.  `error.json` 파일 구조를 정의하고, 이 파일을 읽고 쓰는 헬퍼 함수를 구현합니다.
    2.  `helpers/push.ts`의 파일 생성/수정 로직에 `try...catch` 구문을 추가합니다.
    3.  `catch` 블록에서, 실패 내역을 `error.json`에 기록합니다.
    4.  `push` 함수에 `failureCount` 변수를 추가하고, 파일 동기화 실패 시 카운트를 1씩 증가시킵니다.
    5.  동기화가 진행되는 동안, 화면의 "Syncing..." 알림 메시지에 실패 건수를 함께 표시하도록 업데이트합니다. (예: "Syncing... (15/100 files, 2 failed)")
    6.  `error.json` 파일이 동기화 대상에서 제외되도록 필터링합니다.

## Phase 3: 오류 보고 및 관리 UI 구현

-   **목표**: `error.json`에 기록된 실패 내역을 사용자가 확인하고 관리(삭제)할 수 있는 UI를 구현합니다.
-   **작업 상세**:
    1.  설정 UI에 "Sync Error" 섹션과 "Report" 버튼을 추가합니다.
    2.  `Report` 버튼 클릭 시, `error.json`의 내용을 읽어와 표 형태로 보여주는 모달(Modal) 창을 구현합니다.
    3.  표에는 [체크박스], [파일 경로], [재시도 횟수], [마지막 시도 일시] 컬럼을 포함합니다.
    4.  모달 창 하단에 '선택 항목 삭제' 버튼을 추가하고, 선택된 항목을 `error.json`에서 삭제하는 기능을 구현합니다.

## Phase 4: 오류 재시도 기능 구현

-   **목표**: 사용자가 실패한 파일들의 동기화를 다시 시도할 수 있는 기능을 구현합니다.
-   **작업 상세**:
    1.  설정 UI의 "Sync Error" 섹션에 "Retry" 버튼을 추가합니다.
    2.  `Retry` 버튼 클릭 시, `error.json`에 있는 모든 파일에 대해 재동기화를 시도하는 로직을 구현합니다.
    3.  **재시도 로직**: 파일 존재 여부 확인, 성공/실패에 따른 `error.json` 및 `data.json` 업데이트, 재시도 횟수 및 시간 갱신 등을 모두 처리합니다.
    4.  재시도 완료 후, 성공/실패 건수를 요약한 알림을 사용자에게 보여줍니다.
